<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Fake News Detector - Glass Glow UI</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        /* ---------- Glass Glow UI ---------- */
        :root{
            --bg1: #06121f;
            --bg2: #0b2330;
            --glass: rgba(255,255,255,0.03);
            --accent: #6ef0ff;
            --danger: #ff6b6b;
            --success: #33fc98;
            --muted: #9aa7b0;
            font-family: 'Poppins', sans-serif;
        }
        *{box-sizing:border-box;margin:0;padding:0}
        body{
            min-height:100vh;
            background: radial-gradient(1200px 600px at 10% 20%, rgba(78,139,255,0.12), transparent),
                radial-gradient(900px 400px at 90% 80%, rgba(51,252,152,0.06), transparent),
                linear-gradient(180deg, var(--bg1), var(--bg2));
            color:#e7f7fb;
            padding:30px;
            display:flex;
            align-items:center;
            justify-content:center;
        }
        #app{width:100%;max-width:1100px}
        .main-card{
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 16px;
            backdrop-filter: blur(12px) saturate(150%);
            padding: 24px;
            transition: .3s;
        }
        .main-card:hover{
            transform: translateY(-2px);
            box-shadow: 0 0 25px rgba(110, 240, 255, 0.25);
        }
        .nav-btn, button[type="submit"]{
            cursor:pointer;
            background:linear-gradient(90deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
            color:var(--accent);
            border:1px solid rgba(255,255,255,0.06);
            padding:10px 14px;
            border-radius:10px;
            font-weight:600;
            transition:transform .12s;
        }
        .nav-btn:hover{transform:translateY(-2px)}
        textarea{
            width:100%;min-height:140px;
            padding:12px;
            border-radius:10px;
            background:rgba(255,255,255,0.02);
            color:#e9fbff;border:1px solid rgba(255,255,255,0.08);
        }
        .content-flex{display:grid;grid-template-columns:1fr 360px;gap:18px}
        @media (max-width:900px){ .content-flex{grid-template-columns:1fr;} }
        canvas{width:100% !important;height:100% !important;}
        .chart-card{background:rgba(255,255,255,0.02);padding:14px;border-radius:12px;text-align:center}
    </style>
</head>
<body>
    <div id="app"></div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        /* ‚ö† DEMO MODE FOR GITHUB PAGES ‚Äî ALWAYS SHOW RESULT WITHOUT BACKEND */
        const DEMO_MODE = true;

        let fakeCount = 0, realCount = 0, fakePercent = 0;

        function showPage() {
            document.getElementById("app").innerHTML = `
                <div class="main-card">
                    <h1 style="text-align:center; margin-bottom:12px;">üì∞ Fake News Detector</h1>
                    <form onsubmit="return analyzeDemo(event)">
                        <textarea id="newsInput" placeholder="Paste news headline/article here..."></textarea>
                        <button type="submit" style="width:100%; margin-top:10px;">Analyze Content</button>
                    </form>

                    <p id="resultBox" style="font-size:1.3em;font-weight:600;text-align:center;margin-top:10px;"></p>

                    <div class="content-flex" style="margin-top:16px;">
                        <div></div>
                        <div class="chart-card">
                            <div class="chart-title" style="margin-bottom:6px;">Fake Confidence %</div>
                            <canvas id="fakeChart"></canvas>
                        </div>
                        <div></div>
                        <div class="chart-card" style="margin-top:14px;">
                            <div class="chart-title" style="margin-bottom:6px;">Total Analysis Count</div>
                            <canvas id="countChart"></canvas>
                        </div>
                    </div>
                </div>
            `;
            drawCharts();
        }

        function analyzeDemo(e) {
            e.preventDefault();
            const txt = document.getElementById("newsInput").value.trim();
            if (!txt) return;

            // Generate random realistic score for UI
            fakePercent = Math.floor(Math.random() * 60) + 20; // 20‚Äì80%
            const isFake = fakePercent >= 50;

            if (isFake) fakeCount++; else realCount++;

            document.getElementById("resultBox").innerHTML =
                `${isFake ? "‚ùå FAKE" : "‚úÖ GENUINE"} ‚Äî ${fakePercent}% confidence`;

            drawCharts();
            document.getElementById("newsInput").value = "";
        }

        function drawCharts() {
            // Fake Confidence Chart
            new Chart(document.getElementById("fakeChart"), {
                type:'doughnut',
                data:{
                    labels:['Fake','Real'],
                    datasets:[{ data:[fakePercent,100-fakePercent], backgroundColor:['#ff6b6b','#33fc98'] }]
                },
                options:{ plugins:{legend:{display:false}}, cutout:'75%' }
            });

            // Count Chart
            new Chart(document.getElementById("countChart"), {
                type:'doughnut',
                data:{
                    labels:['Fake','Real'],
                    datasets:[{ data:[fakeCount, realCount], backgroundColor:['#ff6b6b','#33fc98'] }]
                },
                options:{ plugins:{legend:{display:false}}, cutout:'75%' }
            });
        }

        showPage();
    </script>
</body>
</html>
